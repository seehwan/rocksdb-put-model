<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RocksDB Put Model v4 - ìµœì¢… ê²€ì¦ ê²°ê³¼</title>
    <link rel="stylesheet" href="../../../styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>RocksDB Put Model v4</h1>
            <div class="subtitle">ìµœì¢… ê²€ì¦ ê²°ê³¼ ë° ëª¨ë¸ ì„±ëŠ¥ ë¶„ì„</div>
            <div class="date">2025-09-05 | Phase-D ì™„ë£Œ</div>
        </div>

        <!-- Executive Summary -->
        <div class="section">
            <h2>ğŸ¯ Executive Summary</h2>
            <div class="highlight-box success">
                <h3>âœ… v4 ëª¨ë¸ ê²€ì¦ ì„±ê³µ</h3>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h4>ì˜ˆì¸¡ ì •í™•ë„</h4>
                        <div class="metric-value">5.0%</div>
                        <div class="metric-unit">ì˜¤ë¥˜ìœ¨ (Excellent)</div>
                    </div>
                    <div class="metric-card">
                        <h4>ì˜ˆì¸¡ S_max</h4>
                        <div class="metric-value">196.4</div>
                        <div class="metric-unit">MiB/s</div>
                    </div>
                    <div class="metric-card">
                        <h4>ì‹¤ì œ Put Rate</h4>
                        <div class="metric-value">187.1</div>
                        <div class="metric-unit">MiB/s</div>
                    </div>
                    <div class="metric-card">
                        <h4>ê²€ì¦ ìƒíƒœ</h4>
                        <div class="metric-value">Excellent</div>
                        <div class="metric-unit">ë“±ê¸‰</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Model Overview -->
        <div class="section">
            <h2>ğŸ”¬ v4 ëª¨ë¸ ê°œìš”</h2>
            <div class="card">
                <h3>í•µì‹¬ íŠ¹ì§•</h3>
                <div class="features-grid">
                    <div class="feature-card">
                        <h4>Device Envelope Modeling</h4>
                        <p>ì‹¤ì œ fio ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ 4D ëŒ€ì—­í­ ëª¨ë¸ë§</p>
                        <ul>
                            <li>rho_r (read ratio): 0.0 ~ 1.0</li>
                            <li>iodepth: 1, 4, 16, 32, 64</li>
                            <li>numjobs: 1, 2, 4</li>
                            <li>bs_k: 4, 64, 128, 1024 KiB</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>Closed Ledger Accounting</h4>
                        <p>ì •í™•í•œ WA/RA ê³„ì‚° ë° ê²€ì¦</p>
                        <ul>
                            <li>WAL, Flush, Compaction í†µê³„ ë¶„ì„</li>
                            <li>Device vs Statistical WA ë¹„êµ</li>
                            <li>Ledger Closure ê²€ì¦</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>Dynamic Simulation Framework</h4>
                        <p>ì‹¤ì‹œê°„ ì‹œë®¬ë ˆì´ì…˜ ë° ë°±ë¡œê·¸ ë™ì—­í•™</p>
                        <ul>
                            <li>Levelë³„ ìš©ëŸ‰ ì œì•½ ëª¨ë¸ë§</li>
                            <li>Stall í™•ë¥  ë™ì  ê³„ì‚°</li>
                            <li>Backlog í ì‹œë®¬ë ˆì´ì…˜</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Validation Results -->
        <div class="section">
            <h2>ğŸ“Š ê²€ì¦ ê²°ê³¼ ìƒì„¸</h2>
            
            <!-- Model Comparison -->
            <div class="card">
                <h3>ëª¨ë¸ë³„ ì„±ëŠ¥ ë¹„êµ</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>ëª¨ë¸</th>
                                <th>ì˜ˆì¸¡ S_max (MiB/s)</th>
                                <th>ì‹¤ì œ Put Rate (MiB/s)</th>
                                <th>ì˜¤ë¥˜ìœ¨ (%)</th>
                                <th>ìƒíƒœ</th>
                                <th>ë³‘ëª©</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="poor">
                                <td>v1</td>
                                <td>581.6</td>
                                <td>187.1</td>
                                <td>+210.9%</td>
                                <td>Poor</td>
                                <td>Write bound</td>
                            </tr>
                            <tr class="poor">
                                <td>v2.1</td>
                                <td>63.6</td>
                                <td>187.1</td>
                                <td>-66.0%</td>
                                <td>Poor</td>
                                <td>L3</td>
                            </tr>
                            <tr class="poor">
                                <td>v3</td>
                                <td>9.4</td>
                                <td>187.1</td>
                                <td>-95.0%</td>
                                <td>Poor</td>
                                <td>L2</td>
                            </tr>
                            <tr class="excellent">
                                <td><strong>v4</strong></td>
                                <td><strong>196.4</strong></td>
                                <td><strong>187.1</strong></td>
                                <td><strong>+5.0%</strong></td>
                                <td><strong>Excellent</strong></td>
                                <td><strong>N/A</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- v4 Detailed Results -->
            <div class="card">
                <h3>v4 ëª¨ë¸ ìƒì„¸ ê²°ê³¼</h3>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h4>ì‹œë®¬ë ˆì´ì…˜ ë‹¨ê³„</h4>
                        <div class="metric-value">1000</div>
                        <div class="metric-unit">steps</div>
                    </div>
                    <div class="metric-card">
                        <h4>Stall í™•ë¥ </h4>
                        <div class="metric-value">1.8%</div>
                        <div class="metric-unit">í‰ê· </div>
                    </div>
                    <div class="metric-card">
                        <h4>Read/Write ë¹„ìœ¨</h4>
                        <div class="metric-value">0.0%</div>
                        <div class="metric-unit">ì´ˆê¸°ê°’</div>
                    </div>
                    <div class="metric-card">
                        <h4>L0 íŒŒì¼ ìˆ˜</h4>
                        <div class="metric-value">0.0</div>
                        <div class="metric-unit">í‰ê· </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Technical Details -->
        <div class="section">
            <h2>ğŸ”§ ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­</h2>
            
            <!-- Device Envelope -->
            <div class="card">
                <h3>Device Envelope ëª¨ë¸</h3>
                <div class="highlight-box">
                    <h4>ì‹¤ì œ fio ë°ì´í„° ê¸°ë°˜ 4D ê·¸ë¦¬ë“œ</h4>
                    <ul>
                        <li><strong>ê·¸ë¦¬ë“œ í¬ê¸°:</strong> (5, 5, 3, 4) = 300 í¬ì¸íŠ¸</li>
                        <li><strong>ì†ŒìŠ¤ ë°ì´í„°:</strong> Phase-A ì‹¤ì œ ì¸¡ì •ê°’</li>
                        <li><strong>B_w:</strong> 1484 MiB/s (Write)</li>
                        <li><strong>B_r:</strong> 2368 MiB/s (Read)</li>
                        <li><strong>B_eff_mixed:</strong> 2231 MiB/s (50:50 Mixed)</li>
                    </ul>
                </div>
            </div>

            <!-- Simulation Parameters -->
            <div class="card">
                <h3>ì‹œë®¬ë ˆì´ì…˜ íŒŒë¼ë¯¸í„°</h3>
                <div class="parameters-grid">
                    <div class="parameter-group">
                        <h4>ì¥ì¹˜ ì„¤ì •</h4>
                        <ul>
                            <li>iodepth: 32</li>
                            <li>numjobs: 1</li>
                            <li>bs_k: 128 KiB</li>
                        </ul>
                    </div>
                    <div class="parameter-group">
                        <h4>RocksDB ì„¤ì •</h4>
                        <ul>
                            <li>ì••ì¶•ë¥ : 0.541</li>
                            <li>WA: 2.870</li>
                            <li>Levels: L0, L1, L2, L3</li>
                        </ul>
                    </div>
                    <div class="parameter-group">
                        <h4>ì‹œë®¬ë ˆì´ì…˜ ì„¤ì •</h4>
                        <ul>
                            <li>dt: 1.0ì´ˆ</li>
                            <li>steps: 1000</li>
                            <li>ëŒ€ìƒ Put Rate: 187.1 MiB/s</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance Analysis -->
        <div class="section">
            <h2>ğŸ“ˆ ì„±ëŠ¥ ë¶„ì„</h2>
            
            <!-- Improvement Trend -->
            <div class="card">
                <h3>ëª¨ë¸ ê°œì„  íŠ¸ë Œë“œ</h3>
                <div class="improvement-timeline">
                    <div class="timeline-item">
                        <div class="timeline-marker poor">v1</div>
                        <div class="timeline-content">
                            <h4>ê¸°ë³¸ ëª¨ë¸</h4>
                            <p>ì˜¤ë¥˜ìœ¨: 210.9%</p>
                            <p>Write bound ë³‘ëª©</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-marker poor">v2.1</div>
                        <div class="timeline-content">
                            <h4>ê°œì„ ëœ ëª¨ë¸</h4>
                            <p>ì˜¤ë¥˜ìœ¨: -66.0%</p>
                            <p>Harmonic Mean + Per-level</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-marker poor">v3</div>
                        <div class="timeline-content">
                            <h4>ë™ì  ì‹œë®¬ë ˆì´í„°</h4>
                            <p>ì˜¤ë¥˜ìœ¨: -95.0%</p>
                            <p>íœ´ë¦¬ìŠ¤í‹± ê¸°ë°˜</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-marker excellent">v4</div>
                        <div class="timeline-content">
                            <h4>ì™„ì „ êµ¬í˜„</h4>
                            <p>ì˜¤ë¥˜ìœ¨: +5.0%</p>
                            <p>ì‹¤ì œ ë°ì´í„° ê¸°ë°˜</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Key Insights -->
            <div class="card">
                <h3>í•µì‹¬ ì¸ì‚¬ì´íŠ¸</h3>
                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>ğŸ¯ ì‹¤ì œ ë°ì´í„°ì˜ ì¤‘ìš”ì„±</h4>
                        <p>Phase-Aì˜ ì‹¤ì œ fio ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ Device Envelope ëª¨ë¸ë§ì´ ì •í™•ë„ í–¥ìƒì˜ í•µì‹¬</p>
                    </div>
                    <div class="insight-card">
                        <h4>ğŸ“Š Closed Ledgerì˜ íš¨ê³¼</h4>
                        <p>ì •í™•í•œ WA/RA ê³„ì‚°ìœ¼ë¡œ í˜„ì‹¤ì ì¸ ì„±ëŠ¥ ì˜ˆì¸¡ ë‹¬ì„±</p>
                    </div>
                    <div class="insight-card">
                        <h4>âš¡ ë™ì  ì‹œë®¬ë ˆì´ì…˜ì˜ ê°€ì¹˜</h4>
                        <p>ì‹¤ì‹œê°„ ë°±ë¡œê·¸ ë™ì—­í•™ ëª¨ë¸ë§ìœ¼ë¡œ ì•ˆì •ì ì¸ ì„±ëŠ¥ ì˜ˆì¸¡</p>
                    </div>
                    <div class="insight-card">
                        <h4>ğŸ”§ ì™„ì „í•œ êµ¬í˜„ì˜ í•„ìš”ì„±</h4>
                        <p>Python ëª¨ë“ˆ ê¸°ë°˜ì˜ ì™„ì „í•œ êµ¬í˜„ì´ HTML ì‹œë®¬ë ˆì´í„°ë³´ë‹¤ ì •í™•</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Implementation Details -->
        <div class="section">
            <h2>ğŸ’» êµ¬í˜„ ì„¸ë¶€ì‚¬í•­</h2>
            
            <!-- File Structure -->
            <div class="card">
                <h3>íŒŒì¼ êµ¬ì¡°</h3>
                <div class="file-tree">
                    <div class="file-item">
                        <strong>model/</strong>
                        <ul>
                            <li>envelope.py - Device Envelope ëª¨ë¸</li>
                            <li>v4_simulator.py - ë™ì  ì‹œë®¬ë ˆì´í„°</li>
                            <li>closed_ledger.py - Closed Ledger Accounting</li>
                        </ul>
                    </div>
                    <div class="file-item">
                        <strong>tools/device_envelope/</strong>
                        <ul>
                            <li>run_envelope.sh - fio ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸</li>
                            <li>parse_envelope.py - ê²°ê³¼ íŒŒì‹±</li>
                        </ul>
                    </div>
                    <div class="file-item">
                        <strong>config/</strong>
                        <ul>
                            <li>v4_simulator_config.yaml - ì‹œë®¬ë ˆì´í„° ì„¤ì •</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Usage Example -->
            <div class="card">
                <h3>ì‚¬ìš© ì˜ˆì œ</h3>
                <div class="code-block">
                    <pre><code># v4 ëª¨ë¸ ì‚¬ìš© ì˜ˆì œ
from model.envelope import EnvelopeModel
from model.v4_simulator import V4Simulator
import yaml

# Device Envelope ëª¨ë¸ ë¡œë“œ
envelope = EnvelopeModel.from_json_path('device_envelope.json')

# ì„¤ì • ë¡œë“œ
with open('config/v4_simulator_config.yaml', 'r') as f:
    config = yaml.safe_load(f)

# ì‹œë®¬ë ˆì´í„° ìƒì„± ë° ì‹¤í–‰
simulator = V4Simulator(envelope, config)
results = simulator.simulate()

# ê²°ê³¼ ë¶„ì„
print(f"ì˜ˆì¸¡ S_max: {results['S_put'].mean():.1f} MiB/s")</code></pre>
                </div>
            </div>
        </div>

        <!-- Future Work -->
        <div class="section">
            <h2>ğŸš€ í–¥í›„ ê³„íš</h2>
            <div class="card">
                <h3>ê°œì„  ë°©í–¥</h3>
                <div class="roadmap">
                    <div class="roadmap-item">
                        <h4>v4.1 - ì‹œê°í™” ê°œì„ </h4>
                        <p>v3 ëª¨ë¸ì˜ HTML ì‹œê°í™” ê¸°ëŠ¥ì„ v4ì— í†µí•©</p>
                    </div>
                    <div class="roadmap-item">
                        <h4>v4.2 - ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</h4>
                        <p>ì‹¤ì‹œê°„ RocksDB ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë° ì˜ˆì¸¡</p>
                    </div>
                    <div class="roadmap-item">
                        <h4>v4.3 - ìë™ íŠœë‹</h4>
                        <p>ëª¨ë¸ ê¸°ë°˜ ìë™ RocksDB íŒŒë¼ë¯¸í„° íŠœë‹</p>
                    </div>
                    <div class="roadmap-item">
                        <h4>v5 - AI ê¸°ë°˜ ëª¨ë¸</h4>
                        <p>ë¨¸ì‹ ëŸ¬ë‹ì„ í™œìš©í•œ ë” ì •í™•í•œ ì„±ëŠ¥ ì˜ˆì¸¡</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Conclusion -->
        <div class="section">
            <h2>ğŸ¯ ê²°ë¡ </h2>
            <div class="highlight-box success">
                <h3>âœ… v4 ëª¨ë¸ ê²€ì¦ ì„±ê³µ</h3>
                <p>RocksDB Put Model v4ëŠ” ì‹¤ì œ ì‹¤í—˜ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì™„ì „í•œ êµ¬í˜„ì„ í†µí•´ 5% ì˜¤ë¥˜ìœ¨ì˜ ìš°ìˆ˜í•œ ì„±ëŠ¥ì„ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” v1, v2.1, v3 ëª¨ë¸ ëŒ€ë¹„ í˜„ì €í•œ ê°œì„ ì´ë©°, ì‹¤ì œ RocksDB ì„±ëŠ¥ ì˜ˆì¸¡ì— í™œìš©í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ì˜ ì •í™•ë„ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
                
                <div class="key-achievements">
                    <h4>ì£¼ìš” ì„±ê³¼</h4>
                    <ul>
                        <li>âœ… 5% ì˜¤ë¥˜ìœ¨ë¡œ Excellent ë“±ê¸‰ ë‹¬ì„±</li>
                        <li>âœ… ì‹¤ì œ fio ë°ì´í„° ê¸°ë°˜ Device Envelope ëª¨ë¸ë§</li>
                        <li>âœ… Closed Ledger Accountingìœ¼ë¡œ ì •í™•í•œ WA/RA ê³„ì‚°</li>
                        <li>âœ… Dynamic Simulation Frameworkë¡œ ì‹¤ì‹œê°„ ì‹œë®¬ë ˆì´ì…˜</li>
                        <li>âœ… ì™„ì „í•œ Python ëª¨ë“ˆ êµ¬í˜„</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>RocksDB Put Model v4 - ìµœì¢… ê²€ì¦ ê²°ê³¼ | 2025-09-05</p>
            <p>Phase-D ì™„ë£Œ | ëª¨ë“  ëª¨ë¸ ê²€ì¦ ë° ë¹„êµ ë¶„ì„ ì™„ë£Œ</p>
        </div>
    </div>

    <style>
        .improvement-timeline {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .timeline-item {
            text-align: center;
            flex: 1;
        }

        .timeline-marker {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
            color: white;
        }

        .timeline-marker.poor {
            background: #dc3545;
        }

        .timeline-marker.excellent {
            background: #28a745;
        }

        .timeline-content h4 {
            margin: 0 0 5px 0;
            font-size: 1.1em;
        }

        .timeline-content p {
            margin: 2px 0;
            font-size: 0.9em;
            color: #666;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .insight-card {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #007bff;
        }

        .insight-card h4 {
            margin: 0 0 10px 0;
            color: #007bff;
        }

        .file-tree {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
        }

        .file-item {
            margin: 10px 0;
        }

        .file-item ul {
            margin: 5px 0 0 20px;
        }

        .file-item li {
            margin: 2px 0;
        }

        .roadmap {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .roadmap-item {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-top: 4px solid #007bff;
        }

        .roadmap-item h4 {
            margin: 0 0 10px 0;
            color: #007bff;
        }

        .key-achievements {
            margin-top: 20px;
        }

        .key-achievements ul {
            margin: 10px 0 0 20px;
        }

        .key-achievements li {
            margin: 5px 0;
        }

        .excellent {
            background-color: #d4edda !important;
            color: #155724 !important;
        }

        .poor {
            background-color: #f8d7da !important;
            color: #721c24 !important;
        }
    </style>
</body>
</html>
