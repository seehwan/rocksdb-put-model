<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phase-B Final 실험 보고서 - RocksDB Put Model 검증</title>
    <link rel="stylesheet" href="../../../styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .metric-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: #007bff;
            margin: 10px 0;
        }
        .metric-unit {
            color: #6c757d;
            font-size: 0.9em;
        }
        .performance-chart {
            margin: 20px 0;
            text-align: center;
        }
        .performance-chart img {
            max-width: 100%;
            height: auto;
            border: 1px solid #dee2e6;
            border-radius: 8px;
        }
        .workload-summary {
            background: #e8f5e8;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
        }
        .improvement-list {
            list-style: none;
            padding: 0;
        }
        .improvement-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        .improvement-list li:before {
            content: "✅ ";
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Phase-B Final 실험 보고서</h1>
            <div class="subtitle">RocksDB Put Model 검증을 위한 대규모 성능 측정</div>
            <div class="date">2025-09-09 ~ 2025-09-11 | 10억 키 대규모 실험 완료</div>
        </div>

        <!-- Executive Summary -->
        <div class="section">
            <h2>🎯 Executive Summary</h2>
            <div class="highlight-box success">
                <h3>✅ Phase-B Final 실험 완료</h3>
                <div class="metric-grid">
                    <div class="metric-card">
                        <h4>실험 기간</h4>
                        <div class="metric-value">2일 15시간</div>
                        <div class="metric-unit">2025-09-09 ~ 2025-09-11</div>
                    </div>
                    <div class="metric-card">
                        <h4>데이터 크기</h4>
                        <div class="metric-value">10억 키</div>
                        <div class="metric-unit">~1TB 사용자 데이터</div>
                    </div>
                    <div class="metric-card">
                        <h4>완료된 워크로드</h4>
                        <div class="metric-value">4개</div>
                        <div class="metric-unit">모든 벤치마크 성공</div>
                    </div>
                    <div class="metric-card">
                        <h4>결과 파일 크기</h4>
                        <div class="metric-value">14MB</div>
                        <div class="metric-unit">상세 성능 데이터</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 실험 개요 -->
        <div class="section">
            <h2>📋 실험 개요</h2>
            <div class="workload-summary">
                <h3>실험 목적</h3>
                <p>RocksDB Put Model 검증을 위한 대규모 성능 측정 실험으로, 10억 키(약 1TB) 데이터를 대상으로 다양한 워크로드의 성능을 측정하고 Write Amplification Factor(WAF) 및 Compaction 동작을 분석합니다.</p>
            </div>
            
            <h3>주요 개선사항</h3>
            <ul class="improvement-list">
                <li>데이터 크기 10배 증가 (10억 키)</li>
                <li>자동 디스크 정리 및 초기화</li>
                <li>각 벤치마크 사이 Compaction 대기 시간 추가</li>
                <li>백그라운드 작업 수 최적화 (8→4)</li>
                <li>Compaction 상태 모니터링</li>
            </ul>
        </div>

        <!-- 벤치마크 성능 결과 -->
        <div class="section">
            <h2>📊 벤치마크 성능 결과</h2>
            
            <div class="performance-chart">
                <h3>벤치마크 성능 비교</h3>
                <img src="phase_b_visualizations/benchmark_comparison.png" alt="벤치마크 성능 비교">
                <p><em>4개 벤치마크의 처리량, 지연시간, 총 작업량 비교</em></p>
            </div>

            <div class="metric-grid">
                <div class="metric-card">
                    <h4>FillRandom</h4>
                    <div class="metric-value">30,397</div>
                    <div class="metric-unit">ops/sec</div>
                    <p>10억 키 랜덤 쓰기</p>
                </div>
                <div class="metric-card">
                    <h4>ReadRandomWriteRandom</h4>
                    <div class="metric-value">128,141</div>
                    <div class="metric-unit">ops/sec</div>
                    <p>1시간 혼합 워크로드</p>
                </div>
                <div class="metric-card">
                    <h4>Overwrite</h4>
                    <div class="metric-value">75,033</div>
                    <div class="metric-unit">ops/sec</div>
                    <p>덮어쓰기 워크로드</p>
                </div>
                <div class="metric-card">
                    <h4>MixGraph</h4>
                    <div class="metric-value">11,146,458</div>
                    <div class="metric-unit">ops/sec</div>
                    <p>복합 워크로드</p>
                </div>
            </div>
        </div>

        <!-- FillRandom 상세 분석 -->
        <div class="section">
            <h2>🔍 FillRandom 상세 성능 분석</h2>
            
            <div class="performance-chart">
                <h3>FillRandom 성능 추이</h3>
                <img src="phase_b_visualizations/fillrandom_performance.png" alt="FillRandom 성능 추이">
                <p><em>스레드별 성능 추이, 전체 처리량, 누적 작업량, 성능 분포</em></p>
            </div>

            <div class="highlight">
                <strong>주요 발견사항:</strong>
                <ul>
                    <li><strong>총 데이터 포인트:</strong> 17,405개 (30초 간격 통계)</li>
                    <li><strong>스레드 수:</strong> 4개 스레드로 병렬 처리</li>
                    <li><strong>성능 안정성:</strong> 시간이 지남에 따라 성능이 안정화됨</li>
                    <li><strong>처리량:</strong> 평균 30,397 ops/sec로 일정한 성능 유지</li>
                </ul>
            </div>
        </div>

        <!-- RocksDB 이벤트 분석 -->
        <div class="section">
            <h2>⚙️ RocksDB 이벤트 분석</h2>
            
            <div class="performance-chart">
                <h3>RocksDB 이벤트 분포</h3>
                <img src="phase_b_visualizations/rocksdb_events.png" alt="RocksDB 이벤트 분석">
                <p><em>Flush/Compaction 이벤트 분포 및 시간별 패턴</em></p>
            </div>

            <div class="metric-grid">
                <div class="metric-card">
                    <h4>Flush 이벤트</h4>
                    <div class="metric-value">0</div>
                    <div class="metric-unit">이벤트</div>
                    <p>LOG에서 감지된 Flush</p>
                </div>
                <div class="metric-card">
                    <h4>Compaction 이벤트</h4>
                    <div class="metric-value">2</div>
                    <div class="metric-unit">이벤트</div>
                    <p>LOG에서 감지된 Compaction</p>
                </div>
                <div class="metric-card">
                    <h4>LOG 파일 크기</h4>
                    <div class="metric-value">107KB</div>
                    <div class="metric-unit">상세 로그</div>
                    <p>RocksDB 실행 로그</p>
                </div>
            </div>
        </div>

        <!-- 실험 대시보드 -->
        <div class="section">
            <h2>📈 실험 요약 대시보드</h2>
            
            <div class="performance-chart">
                <h3>종합 실험 대시보드</h3>
                <img src="phase_b_visualizations/experiment_dashboard.png" alt="실험 요약 대시보드">
                <p><em>실험 개요, 개선사항, 성능 요약, 파일 크기 분포</em></p>
            </div>
        </div>

        <!-- 기술적 세부사항 -->
        <div class="section">
            <h2>🔧 기술적 세부사항</h2>
            
            <h3>실험 환경</h3>
            <div class="highlight">
                <ul>
                    <li><strong>RocksDB 버전:</strong> 10.7.0</li>
                    <li><strong>데이터베이스 디렉토리:</strong> /rocksdb/data</li>
                    <li><strong>WAL 디렉토리:</strong> /rocksdb/wal</li>
                    <li><strong>파일시스템:</strong> F2FS</li>
                    <li><strong>압축:</strong> LZ4</li>
                    <li><strong>스레드 수:</strong> 16</li>
                </ul>
            </div>

            <h3>실험 설정</h3>
            <div class="highlight">
                <ul>
                    <li><strong>키 크기:</strong> 16 bytes</li>
                    <li><strong>값 크기:</strong> 1KB</li>
                    <li><strong>총 키 수:</strong> 1,000,000,000 (10억)</li>
                    <li><strong>예상 데이터 크기:</strong> 1TB</li>
                    <li><strong>백그라운드 작업:</strong> 4개</li>
                    <li><strong>Compaction 대기:</strong> 각 벤치마크 후 대기</li>
                </ul>
            </div>
        </div>

        <!-- 결과 파일 목록 -->
        <div class="section">
            <h2>📁 생성된 결과 파일</h2>
            
            <div class="highlight">
                <h3>실험 결과 파일들</h3>
                <ul>
                    <li><strong>fillrandom_results.txt</strong> (2.2MB) - FillRandom 벤치마크 상세 결과</li>
                    <li><strong>readrandomwriterandom_results.txt</strong> (77KB) - 혼합 워크로드 결과</li>
                    <li><strong>overwrite_results.txt</strong> (101KB) - 덮어쓰기 벤치마크 결과</li>
                    <li><strong>mixgraph_results.txt</strong> (11.6MB) - 복합 워크로드 결과</li>
                    <li><strong>rocksdb.log</strong> (107KB) - RocksDB 실행 로그</li>
                    <li><strong>final_summary.txt</strong> (1KB) - 최종 실험 요약</li>
                    <li><strong>progress.txt</strong> (1.2KB) - 실험 진행률 기록</li>
                </ul>
            </div>

            <div class="highlight">
                <h3>시각화 파일들</h3>
                <ul>
                    <li><strong>fillrandom_performance.png</strong> (526KB) - FillRandom 성능 추이</li>
                    <li><strong>benchmark_comparison.png</strong> (262KB) - 벤치마크 성능 비교</li>
                    <li><strong>rocksdb_events.png</strong> (215KB) - RocksDB 이벤트 분석</li>
                    <li><strong>experiment_dashboard.png</strong> (453KB) - 실험 요약 대시보드</li>
                    <li><strong>visualization_summary.json</strong> (437B) - 시각화 요약</li>
                </ul>
            </div>
        </div>

        <!-- 결론 및 다음 단계 -->
        <div class="section">
            <h2>🎯 결론 및 다음 단계</h2>
            
            <div class="highlight-box success">
                <h3>✅ Phase-B Final 실험 성공</h3>
                <p>10억 키 대규모 실험이 성공적으로 완료되었으며, 모든 벤치마크에서 안정적인 성능을 확인했습니다. 특히 FillRandom 워크로드에서 30,397 ops/sec의 일정한 성능을 유지하며, Put Model 검증에 필요한 충분한 데이터를 확보했습니다.</p>
            </div>

            <h3>주요 성과</h3>
            <ul class="improvement-list">
                <li>대규모 데이터셋(10억 키)으로 Put Model 검증 기반 마련</li>
                <li>4개 워크로드의 상세한 성능 데이터 확보</li>
                <li>RocksDB LOG를 통한 Flush/Compaction 이벤트 분석</li>
                <li>자동화된 디스크 정리 및 실험 관리 시스템 구축</li>
                <li>종합적인 시각화 및 보고서 생성</li>
            </ul>

            <h3>다음 단계</h3>
            <div class="highlight">
                <p><strong>Phase-C:</strong> LOG 파일 분석을 통한 Per-Level WAF 계산 및 Put Model 파라미터 추출</p>
                <p><strong>Phase-D:</strong> v1 모델 검증 및 성능 예측 정확도 평가</p>
                <p><strong>Phase-E:</strong> v2.1 모델 검증 및 개선된 모델 성능 평가</p>
                <p><strong>Phase-F:</strong> v3/v4 모델 검증 및 최종 모델 정확도 확인</p>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>RocksDB Put Model 검증 프로젝트 | Phase-B Final 실험 보고서</p>
            <p>생성일: 2025-09-11 | 실험 기간: 2025-09-09 ~ 2025-09-11</p>
        </div>
    </div>
</body>
</html>
