<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RocksDB Put-Rate Model Comprehensive Analysis Report</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 5px;
            margin-top: 30px;
        }
        h3 {
            color: #7f8c8d;
            margin-top: 25px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        pre {
            background-color: #f4f4f4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .highlight {
            background-color: #fff3cd;
            padding: 10px;
            border-left: 4px solid #ffc107;
            margin: 10px 0;
        }
        .success {
            background-color: #d4edda;
            padding: 10px;
            border-left: 4px solid #28a745;
            margin: 10px 0;
        }
        .info {
            background-color: #d1ecf1;
            padding: 10px;
            border-left: 4px solid #17a2b8;
            margin: 10px 0;
        }
        .warning {
            background-color: #fff3cd;
            padding: 10px;
            border-left: 4px solid #ffc107;
            margin: 10px 0;
        }
        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #ecf0f1;
            text-align: center;
            color: #7f8c8d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Phase-B: RocksDB FillRandom 실험 계획</h1>
<h2>🎯 목표</h2>
<ul>
<li><strong>FillRandom 워크로드 실행</strong>: 시간별 성능 변화 측정</li>
<li><strong>LOG 파일 수집</strong>: 상세한 RocksDB 내부 동작 로그</li>
<li><strong>Compaction 분석</strong>: 시간별 Compaction 패턴 및 성능 영향</li>
<li><strong>안정화 여부 확인</strong>: RocksDB가 안정적인 Put 속도에 도달하는지 검증</li>
</ul>
<h2>📋 실험 절차</h2>
<h3>1. 장치 파티셔닝 및 마운트</h3>
<pre class="codehilite"><code class="language-bash"># 1. 기존 파티션 정리
sudo umount /dev/nvme1n1p1 2&gt;/dev/null || true
sudo umount /dev/nvme1n1p2 2&gt;/dev/null || true
sudo umount /dev/nvme1n1 2&gt;/dev/null || true

# 2. 파티션 테이블 생성
sudo parted /dev/nvme1n1 mklabel gpt
sudo parted /dev/nvme1n1 mkpart primary 1MB 10GB    # WAL 파티션
sudo parted /dev/nvme1n1 mkpart primary 10GB 100%   # Data 파티션

# 3. 파일시스템 생성
sudo mkfs.f2fs /dev/nvme1n1p1  # WAL용
sudo mkfs.f2fs /dev/nvme1n1p2  # Data용

# 4. 마운트
sudo mkdir -p /rocksdb/wal /rocksdb/data
sudo mount /dev/nvme1n1p1 /rocksdb/wal
sudo mount /dev/nvme1n1p2 /rocksdb/data
sudo chown -R sslab:sslab /rocksdb
</code></pre>

<h3>2. RocksDB 설정 및 FillRandom 실행</h3>
<pre class="codehilite"><code class="language-bash"># FillRandom 실행 (LOG 파일 저장)
./db_bench --benchmarks=fillrandom \
  --db=/rocksdb/data \
  --wal_dir=/rocksdb/wal \
  --num=1000000000 \
  --value_size=1024 \
  --key_size=16 \
  --threads=32 \
  --stats_interval=1000000 \
  --stats_dump_period_sec=10 \
  --log_file=/rocksdb/data/LOG \
  --log_level=INFO \
  --max_log_file_size=1073741824 \
  --keep_log_file_num=10
</code></pre>

<h3>3. 모니터링 및 데이터 수집</h3>
<ul>
<li><strong>성능 지표</strong>: 초당 Put 수, 처리량, 지연시간</li>
<li><strong>LOG 분석</strong>: Compaction 이벤트, 메모리 사용량, 레벨별 상태</li>
<li><strong>시간별 변화</strong>: 안정화 구간, 성능 저하 구간 식별</li>
</ul>
<h2>📊 예상 결과</h2>
<ul>
<li><strong>초기 성능</strong>: 높은 Put 속도 (초기 상태)</li>
<li><strong>성능 저하</strong>: Compaction 시작 후 성능 감소</li>
<li><strong>안정화</strong>: 일정 시간 후 안정적인 성능 구간 도달</li>
<li><strong>최종 성능</strong>: 장기간 안정화된 Put 속도</li>
</ul>
<h2>📁 출력 파일</h2>
<ul>
<li><code>LOG</code>: RocksDB 상세 로그</li>
<li><code>fillrandom_results.json</code>: 성능 측정 결과</li>
<li><code>compaction_analysis.json</code>: Compaction 패턴 분석</li>
<li><code>time_series_plots.png</code>: 시간별 성능 변화 시각화</li>
</ul>
        <div class="footer">
            <p>Report Generated: 2025-09-17 05:26:59</p>
            <p>RocksDB Put-Rate Model Comprehensive Analysis</p>
        </div>
    </div>
</body>
</html>